(window.webpackJsonptrivia=window.webpackJsonptrivia||[]).push([[0],{11:function(t,e,n){t.exports=n(21)},16:function(t,e,n){},21:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),s=n(9),i=n.n(s),c=(n(16),n(17),n(1)),o=n(2),l=n(4),u=n(3),m=n(5),d=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={category:"Mix",difficulty:"Easy"},n.sendData=function(){n.props.handleStart(n.state)},n}return Object(m.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){var t=this,e=["Mix","Sports","History","Movies","Geography"].map(function(e,n){return r.a.createElement("button",{key:n,type:"button",className:"list-group-item list-group-item-action ".concat(t.state.category===e?"active":""," "),onClick:function(){return t.setState({category:e})}},e)}),n=["Easy","Medium","Hard"].map(function(e,n){return r.a.createElement("button",{key:n,type:"button",className:"list-group-item list-group-item-action ".concat(t.state.difficulty===e?"active":""," "),onClick:function(){return t.setState({difficulty:e})}},e)});return r.a.createElement("div",{className:"border rounded w-75 mx-auto"},r.a.createElement("div",{className:"row pt-4"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"list-group w-75 mx-auto"},r.a.createElement("p",null,"Choose a category"),e)),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"list-group w-50 mx-auto margin-top"},r.a.createElement("p",null,"Choose the difficulty"),n))),r.a.createElement("button",{onClick:this.sendData,className:"btn btn-outline-primary my-4"},"START"))}}]),e}(r.a.Component),p=n(6),f=n.n(p),b=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(s)))).state={count:0,score:0,questions:[],currentAnswers:[],correctAnswer:"",isNextVisible:!1,isCorrect:null,endGame:!1},n.divRef=r.a.createRef(),n.handleNext=function(){n.setState({isCorrect:null}),n.setState(function(t){return{isNextVisible:!t.isNextVisible}}),n.enableButtons(),n.divRef.current.childNodes.forEach(function(t){(t.classList.contains("btn-success")||t.classList.contains("btn-danger"))&&(t.classList.replace("btn-success","btn-primary"),t.classList.replace("btn-danger","btn-primary"))}),n.state.count<9?n.setState(function(t){return{count:t.count+1}}):(n.disableButtons(),n.setState(function(t){return{endGame:!t.endGame}}))},n.createAnswersArr=function(){var t,e=n.state.questions[n.state.count],a=[],r=[];for(var s in e)"correct_answer"!==s&&"incorrect_answers"!==s||a.push(e[s]);t=(r=a.flat(2))[0],r=r.map(function(t){return[Math.random(),t]}).sort(function(t,e){return t[0]-e[0]}).map(function(t){return t[1]}),n.setState({currentAnswers:r}),n.setState({correctAnswer:t})},n.handleAnswer=function(t){t.target.textContent===n.state.correctAnswer?(t.target.classList.replace("btn-primary","btn-success"),n.setState(function(t){return{score:t.score+1}}),n.setState({isCorrect:!0})):(t.target.classList.replace("btn-primary","btn-danger"),n.setState({isCorrect:!1})),n.disableButtons(),n.setState(function(t){return{isNextVisible:!t.isNextVisible}})},n.disableButtons=function(){n.divRef.current.childNodes.forEach(function(t){t.setAttribute("disabled","disabled")})},n.enableButtons=function(){n.divRef.current.childNodes.forEach(function(t){t.removeAttribute("disabled")})},n}return Object(m.a)(e,t),Object(o.a)(e,[{key:"componentDidUpdate",value:function(t,e){if(e.questions!==this.props.questions){var n=this.props.questions;this.setState({questions:n}),this.createAnswersArr()}e.count!==this.state.count&&this.createAnswersArr()}},{key:"render",value:function(){var t=this;if(this.state.questions.length){var e,n=this.state.currentAnswers.map(function(e,n){return r.a.createElement("button",{key:n,onClick:t.handleAnswer,type:"button",className:"btn btn-primary btn-lg m-2"},f.a.decode(e))});return!0===this.state.isCorrect?e=r.a.createElement("div",{className:"alert alert-warning font-weight-bold ml-4",role:"alert"},"Correct!"):!1===this.state.isCorrect&&(e=r.a.createElement("div",{className:"alert alert-warning font-weight-bold ml-4",role:"alert"},"Wrong")),r.a.createElement("div",{className:"my-2"},r.a.createElement("div",{className:"alert alert-primary questions-title",role:"alert"},f.a.decode(this.state.questions[this.state.count].question)),r.a.createElement("div",{className:"answer-button",ref:this.divRef},n),r.a.createElement("div",{className:"d-flex justify-content-center my-4"},r.a.createElement("div",{className:"alert alert-info mr-2",role:"alert"},"Question : ",this.state.count+1," / ",this.state.questions.length),r.a.createElement("div",{className:"alert alert-dark ml-2",role:"alert"},"Score : ",this.state.score," "),e),this.state.isNextVisible?r.a.createElement("button",{onClick:this.handleNext,type:"button",className:"btn btn-primary btn-lg"},"NEXT QUESTION"):null,this.state.endGame?r.a.createElement("div",{style:{top:"50%"},className:"alert alert-success position-absolute fixed-top w-25 mx-auto",role:"alert"},r.a.createElement("h2",{className:"alert-heading mt-4"},"Quiz done!"),r.a.createElement("h4",{className:"my-4"},"Your score : ",this.state.score),r.a.createElement("button",{onClick:this.props.newGame,type:"button",className:"btn btn-primary btn-lg my-4"},"NEW GAME")):null)}return r.a.createElement("div",null,r.a.createElement("div",{style:{marginTop:"5rem"},className:"d-flex justify-content-center"},r.a.createElement("div",{className:"spinner-border",style:{width:"5rem",height:"5rem"},role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))))}}]),e}(r.a.Component),h=n(7),y=n.n(h),v=n(10),E=function(){var t=Object(v.a)(y.a.mark(function t(e,n){var a,r,s;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),"https://opentdb.com/api.php?amount=10",a="",0===e&&"easy"===n||(a="&category=".concat(e,"&difficulty=").concat(n)),console.log(a),t.next=7,fetch("https://opentdb.com/api.php?amount=10"+a);case 7:return r=t.sent,t.next=10,r.json();case 10:return s=t.sent,t.abrupt("return",s.results);case 12:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),g=function(t){return"Sports"===t?21:"Geography"===t?22:"History"===t?23:"Movies"===t?11:""},N=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={isVisible:!0,questions:[],count:0,score:0},n.newGame=function(){n.setState(function(t){return{isVisible:!t.isVisible}})},n.handleStart=function(t){var e=g(t.category),a=t.difficulty.toLowerCase();E(e,a).then(function(t){return n.setState({questions:t})}).catch(function(t){return console.log(t)}),n.setState(function(t){return{isVisible:!t.isVisible}})},n}return Object(m.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"container text-center"},r.a.createElement("h1",null,"TRIVIA QUIZ"),r.a.createElement("p",null,"Created by Carlo Anselmi"),this.state.isVisible?r.a.createElement(d,{handleStart:this.handleStart}):r.a.createElement(b,{questions:this.state.questions,newGame:this.newGame}))}}]),e}(r.a.Component);i.a.render(r.a.createElement(N,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.446a043f.chunk.js.map