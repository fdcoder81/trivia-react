(window.webpackJsonptrivia=window.webpackJsonptrivia||[]).push([[0],{11:function(t,e,a){t.exports=a(21)},16:function(t,e,a){},21:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),s=a(9),i=a.n(s),c=(a(16),a(17),a(1)),o=a(2),l=a(4),u=a(3),m=a(5),d=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={category:"Mix",difficulty:"Easy"},a.sendData=function(){a.props.handleStart(a.state)},a}return Object(m.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){var t=this,e=["Mix","Sports","History","Movies","Geography"].map(function(e,a){return r.a.createElement("button",{key:a,type:"button",className:"list-group-item list-group-item-action ".concat(t.state.category===e?"active":""," "),onClick:function(){return t.setState({category:e})}},e)}),a=["Easy","Medium","Hard"].map(function(e,a){return r.a.createElement("button",{key:a,type:"button",className:"list-group-item list-group-item-action ".concat(t.state.difficulty===e?"active":""," "),onClick:function(){return t.setState({difficulty:e})}},e)});return r.a.createElement("div",{className:"border rounded w-75 mx-auto"},r.a.createElement("div",{className:"row pt-4"},r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"list-group w-75 ml-auto"},r.a.createElement("p",null,"Choose a category"),e)),r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"list-group w-50 mr-auto"},r.a.createElement("p",null,"Choose the difficulty"),a))),r.a.createElement("button",{onClick:this.sendData,className:"btn btn-outline-primary my-4"},"START"))}}]),e}(r.a.Component),p=a(6),f=a.n(p),h=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(s)))).state={count:0,score:0,questions:[],currentAnswers:[],correctAnswer:"",isNextVisible:!1,isCorrect:null,endGame:!1},a.divRef=r.a.createRef(),a.handleNext=function(){a.setState({isCorrect:null}),a.setState(function(t){return{isNextVisible:!t.isNextVisible}}),a.enableButtons(),a.divRef.current.childNodes.forEach(function(t){(t.classList.contains("btn-success")||t.classList.contains("btn-danger"))&&(t.classList.replace("btn-success","btn-primary"),t.classList.replace("btn-danger","btn-primary"))}),a.state.count<9?a.setState(function(t){return{count:t.count+1}}):(a.disableButtons(),a.setState(function(t){return{endGame:!t.endGame}}))},a.createAnswersArr=function(){var t,e=a.state.questions[a.state.count],n=[],r=[];for(var s in e)"correct_answer"!==s&&"incorrect_answers"!==s||n.push(e[s]);t=(r=n.flat(2))[0],r=r.map(function(t){return[Math.random(),t]}).sort(function(t,e){return t[0]-e[0]}).map(function(t){return t[1]}),a.setState({currentAnswers:r}),a.setState({correctAnswer:t})},a.handleAnswer=function(t){t.target.textContent===a.state.correctAnswer?(t.target.classList.replace("btn-primary","btn-success"),a.setState(function(t){return{score:t.score+1}}),a.setState({isCorrect:!0})):(t.target.classList.replace("btn-primary","btn-danger"),a.setState({isCorrect:!1})),a.disableButtons(),a.setState(function(t){return{isNextVisible:!t.isNextVisible}})},a.disableButtons=function(){a.divRef.current.childNodes.forEach(function(t){t.setAttribute("disabled","disabled")})},a.enableButtons=function(){a.divRef.current.childNodes.forEach(function(t){t.removeAttribute("disabled")})},a}return Object(m.a)(e,t),Object(o.a)(e,[{key:"componentDidUpdate",value:function(t,e){if(e.questions!==this.props.questions){var a=this.props.questions;this.setState({questions:a}),this.createAnswersArr()}e.count!==this.state.count&&this.createAnswersArr()}},{key:"render",value:function(){var t=this;if(this.state.questions.length){var e,a=this.state.currentAnswers.map(function(e,a){return r.a.createElement("button",{key:a,onClick:t.handleAnswer,type:"button",className:"btn btn-primary btn-lg m-4"},f.a.decode(e))});return!0===this.state.isCorrect?e=r.a.createElement("div",{className:"alert alert-warning font-weight-bold ml-4",role:"alert"},"Correct!"):!1===this.state.isCorrect&&(e=r.a.createElement("div",{className:"alert alert-warning font-weight-bold ml-4",role:"alert"},"Wrong")),r.a.createElement("div",{className:"my-4"},r.a.createElement("div",{className:"alert alert-primary",style:{fontSize:"2rem",marginTop:"4rem"},role:"alert"},f.a.decode(this.state.questions[this.state.count].question)),r.a.createElement("div",{ref:this.divRef,style:{paddingTop:"4rem"}},a),r.a.createElement("div",{className:"d-flex justify-content-center my-4"},r.a.createElement("div",{className:"alert alert-info mr-4",role:"alert"},"Question : ",this.state.count+1," / ",this.state.questions.length),r.a.createElement("div",{className:"alert alert-dark ml-4",role:"alert"},"Score : ",this.state.score," "),e),this.state.isNextVisible?r.a.createElement("button",{onClick:this.handleNext,type:"button",className:"btn btn-primary btn-lg"},"NEXT QUESTION"):null,this.state.endGame?r.a.createElement("div",{style:{top:"50%"},className:"alert alert-success position-absolute fixed-top w-25 mx-auto",role:"alert"},r.a.createElement("h2",{className:"alert-heading mt-4"},"Quiz done!"),r.a.createElement("h4",{className:"my-4"},"Your score : ",this.state.score),r.a.createElement("button",{onClick:this.props.newGame,type:"button",className:"btn btn-primary btn-lg my-4"},"NEW GAME")):null)}return r.a.createElement("div",null,r.a.createElement("div",{style:{marginTop:"5rem"},className:"d-flex justify-content-center"},r.a.createElement("div",{className:"spinner-border",style:{width:"5rem",height:"5rem"},role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))))}}]),e}(r.a.Component),b=a(7),y=a.n(b),v=a(10),E=function(){var t=Object(v.a)(y.a.mark(function t(e,a){var n,r,s;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return"https://opentdb.com/api.php?amount=10",n="",0!==e&&"easy"!==a&&(n="&category=".concat(e,"&difficulty=").concat(a)),t.next=5,fetch("https://opentdb.com/api.php?amount=10"+n);case 5:return r=t.sent,t.next=8,r.json();case 8:return s=t.sent,t.abrupt("return",s.results);case 10:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}(),g=function(t){return"Sports"===t?21:"Geography"===t?22:"History"===t?23:"Movies"===t?11:""},N=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={isVisible:!0,questions:[],count:0,score:0},a.newGame=function(){a.setState(function(t){return{isVisible:!t.isVisible}})},a.handleStart=function(t){var e=g(t.category),n=t.difficulty.toLowerCase();E(e,n).then(function(t){return a.setState({questions:t})}).catch(function(t){return console.log(t)}),a.setState(function(t){return{isVisible:!t.isVisible}})},a}return Object(m.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"container text-center"},r.a.createElement("h1",{className:"display-3"},"TRIVIA X"),r.a.createElement("p",null,"Created by Carlo Anselmi"),this.state.isVisible?r.a.createElement(d,{handleStart:this.handleStart}):r.a.createElement(h,{questions:this.state.questions,newGame:this.newGame}))}}]),e}(r.a.Component);i.a.render(r.a.createElement(N,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.9fbaf855.chunk.js.map